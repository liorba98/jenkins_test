pipeline {
   agent { docker { image 'uwsgi-nginx-flask-docker/python3.7' } }

   stages {
      stage('build') {
          steps {
              echo 'building'
              }
            }
      stage('git') {
          steps {
              git credentialsId: 'f997923c-ea06-402d-ae36-c2fbaabca7c6', url: 'https://github.com/liorba98/jenkins_test.git'
              }
            }
      stage('test') {
          steps {
              sh 'python /my_app.py'
              sh 'curl -i http://192.168.1.20:5000/hello/'
              }
            }
      }
   }
